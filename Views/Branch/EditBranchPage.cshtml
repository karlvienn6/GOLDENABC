@{
    ViewData["Title"] = "Edit Branch Page";
    var branch = ViewBag.Branch;
}

<h3 class="my-4">@ViewData["Title"]</h3>

<form asp-controller="Branch" asp-action="EditBranch" method="post" id="needs-validation">
  <div class="mb-3">
    <label for="branchCode" class="form-label">Branch Code</label>
    <input type="text" class="form-control" id="branchCode" name="branchCode" aria-describedby="emailHelp" value="@branch.branchCode" required>
    <div class="has-validation">
        <div class="invalid-feedback">
            Branch Code is required
        </div>
    </div>
  </div> 
  <div class="mb-3">
    <label for="branchName" class="form-label">Branch Name</label>
    <input type="text" class="form-control" id="branchName" name="branchName" value="@branch.branchName" required>
    <div class="has-validation">
        <div class="invalid-feedback">
            Branch Name is required
        </div>
    </div>
  </div>
  <div class="mb-3">
    <label for="address" class="form-label">Address</label>
    <input type="text" class="form-control" id="address" name="address" value="@branch.address" required>
    <div class="has-validation">
        <div class="invalid-feedback">
            Address is required
        </div>
    </div>
  </div>
  <div class="mb-3">
    <label for="barangay" class="form-label">Barangay</label>
    <input type="text" class="form-control" id="barangay" value="@branch.barangay" name="barangay" required>
    <div class="has-validation">
        <div class="invalid-feedback">
            Barangay is required
        </div>
    </div>
  </div>
  <div class="mb-3">
    <label for="city" class="form-label">City</label>
    <input type="text" class="form-control" id="city" value="@branch.city" name="city" required>
    <div class="has-validation">
        <div class="invalid-feedback">
            City is required
        </div>
    </div>
  </div>
  <div class="mb-3">
    <label for="permit" class="form-label">Permit No.</label>
    <input type="text" class="form-control" value="@branch.permitNo" id="permit" name="permitNo">
  </div>
  <div class="mb-3">
    <label for="branchManager" class="form-label">Branch Manager</label>
    <input type="text" class="form-control" id="branchManager" value="@branch.branchManager" name="branchManager">
  </div>
  <div class="mb-3" id="datepicker">
    <label for="dateOpened" class="date" >Date</label>
    <input type="date" class="form-control" id="dateOpened" name="dateOpened" value="@branch.dateOpened"/>
  </div>
  <div class="mb-3 form-check">
    <input type="checkbox" class="form-check-input" id="isActive" name="isActive" checked="true" value="@branch.isActive">
    <label class="form-check-label" for="isActive">isActive</label>
  </div>
  <button type="submit" class="btn btn-primary" form="needs-validation" id="submitForm">Submit</button>
</form>

<script>
    $('#isActive').on('change', function(){
        this.value = this.checked;

        @* alert($("#isActive").val()) *@
        @* alert(this.checked); *@
    });

    $("#submitForm").click(function(){
        $("#needs-validation").addClass("was-validated");
        $(".invalid-feedback").each(function(){
            console.log("gege");
            $(this).addClass("d-block");
        })
    });

    
    
</script>